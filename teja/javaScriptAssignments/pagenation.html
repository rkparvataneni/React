<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="pagenationStyle.css">
    <script src="pagenationScript.js"></script>

    <script>

       function pageChanging(){
           let rows = document.getElementById("numberOfRows").value;
           let pageEnd = Math.round(200/rows);
           let pageStart =document.getElementById('pageStart');
           if (pageStart.innerHTML> pageEnd){
               pageStart.innerHTML = pageEnd;
           }

           let pages = pageStart.innerHTML;
           document.getElementById("pageEnd").innerHTML = pageEnd;

           let rangeStart = pages* rows;
           document.getElementById('rangeStart').innerHTML = rangeStart - rows + 1;

           rangeEnd = document.getElementById('rangeEnd').innerHTML;
           rangeEnd = pages*rows;
           document.getElementById('rangeEnd').innerHTML = rangeEnd;

           rangeStart = rangeStart -rows;


           let span1 = document.getElementById('buttons');
           span1.innerHTML = " ";
           for(let i=1; i<=Math.round(200/rows); i++) {

               let button1 =document.createElement('button');
               button1.innerHTML = i;
              button1.setAttribute('onClick', `buttonOnClick(this,${i},${rows})`);
              //button1.setAttribute('class', 'buttonClass');

               span1.appendChild(button1);
           }

           tableCreation(rangeStart,rangeEnd);

       }

       function buttonOnClick(button,i,rows){
        let rangeStart = (i-1)*rows;
           let rangeEnd = i* rows;
           document.getElementById('pageStart').innerHTML = i;
          document.querySelectorAll('button').forEach(btn => btn.style.color = '');
           button.style.color = 'blue';
           tableCreation(rangeStart,rangeEnd);


       }


        function tableCreation(rangeStart,rangeEnd) {
            let table = document.getElementById('myTable');
            let tableHeader = ['Id', 'Name','UserName', 'Email', 'Address', 'Phone', 'Website', 'Company' ];
            table.innerHTML = '';
            let tr = document.createElement('tr');
            for (let i = 0; i < 8; i++) {
                let row = document.createElement('th');
                row.innerHTML = tableHeader[i];
                tr.appendChild(row);
            }
            table.appendChild(tr);
            for (let i = rangeStart; i < rangeEnd; i++) {

                let tr = document.createElement('tr');

                tableHeader.forEach((heading) => {
                    let td = document.createElement('td');
                    let lc = heading.toLowerCase();
                    if(typeof data1[i][lc] === 'object') {
                        td.innerHTML = JSON.stringify(data1[i][lc]);
                    }
                    else {
                        td.innerHTML = data1[i][lc];
                    }
                    tr.appendChild(td);
                });
                table.appendChild(tr);
            }
        }

    </script>
</head>
<body onload="pageChanging()">

<table id="myTable" class="tableStyle">

</table>


<label for = "numberOfRows">Page Size:</label>
<select id = "numberOfRows" onchange=" pageChanging()">
    <option value = "5">5</option>
    <option value = "10">10</option>
    <option value = "12">12</option>
    <option value = "20">20</option>
</select>
<span id ="rangeStart">1</span>
<span >to</span>
<span id ="rangeEnd">5</span>
<span >of</span>
<span >200</span>
<span id="buttons"></span>

<button onclick =" let pages= document.getElementById('pageStart').innerHTML;
if(pages> 1){
pages--
document.getElementById('pageStart').innerHTML = pages;
}
pageChanging();

"> </button>
<span >page</span>
<span id="pageStart">1</span>
<span >of</span>
<span id="pageEnd">40</span>
<button onclick =" let pages = document.getElementById('pageStart').innerHTML;
    let rangeEnd = document.getElementById('rangeEnd').innerHTML;
    if(rangeEnd <200){
            pages++;
}
            document.getElementById('pageStart').innerHTML = pages;
            pageChanging();
"> </button>





</body>
</html>