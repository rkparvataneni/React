<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login Form</title>
    <link href="../formValidations/LoginFormStyle.css" rel="stylesheet" type="text/css">

</head>
<body>
<script>
    let airtports = [
        {
            name: 'Newark',
            value: 'EWR',
            airlines: ['Etihad', 'Emirates', 'Air India']
        },
        {
            name: 'San Francisco',
            value: 'SFO',
            airlines: ['Etihad', 'Emirates', 'Air India']
        },
        {
            name: 'New York',
            value: 'JFK',
            airlines: ['Etihad', 'Emirates', 'Air India']
        },
        {
            name: 'Philadelphia',
            value: 'PHL',
            airlines: ['Etihad', 'Emirates', 'Air India']
        },
    ];


    function selectCity() {
        const selectState = document.getElementById('state');
        if (selectState) {
            airtports.forEach(port => {
                let element = document.createElement('option');
                element.innerText = port.name;
                element.value = port.value;
                selectState.appendChild(element);
            });
        }
    }

    function submitForm(event) {
        event.preventDefault();
        let isValid = true;
        let tags = ['firstname', 'lastName', 'email', 'address', 'address2', 'startDate', 'statetag', 'zipcode', 'city', 'check', 'comments', 'phonenum', 'standard', 'premium', 'ultimate'];
        let lableTags = ['firstname1', 'lastName1', 'email1', 'address1', 'address21', 'startDate1', 'statetag1', 'zipcode1', 'city1', 'check1', 'comments1', 'phonenum1', "standard1"];
        lableTags.forEach((labletag, index) => {
            let value = document.getElementById(tags[index]).value;
            let lable = document.getElementById(labletag);
            lable.style.color = '';
            if (labletag !== 'startDate1') {
                if (labletag !== 'startDate1' && labletag !== 'check1' && labletag !== 'standard1') {
                    lable.style.color = '';
                    isValid= nullCheck(value, lable);

                }
            }
            if (labletag === 'startDate1') {
                lable.style.color = '';
                isValid=  validatenull(value, lable);

            }
            if (labletag === 'check1') {
                lable.style.color = '';
                isValid=  validateCheck();

            }
            if (labletag === 'standard1') {
                lable.style.color = '';
               isValid= validateRadio();

            }
        });

        if (isValid) {
            formDataAlert();
        }
      else {
          alert('Please fill in all fields');
        }
    }

    function validatenull(value, lable) {
        let isValid = true;
        lable.style.color = '';
        if (value === '') {
            lable.style.color = 'red';
            isValid = false;
        } else {
            lable.style.color = '';
        }
        return isValid;
    }

    function validateCheck() {
        let isValid = true;
        let checkboxes = document.getElementById("check");
        let label = document.getElementById("check1");
        label.style.color = '';
        if (!checkboxes.checked) {
            label.style.color = 'red';
            isValid = false;
        }
        else {
            label.style.color = '';
        }
        return isValid;
    }

    function formDataAlert() {
        let tags = ['firstname', 'lastName', 'email', 'address', 'address2', 'startDate', 'statetag', 'zipcode', 'city', 'phonenum', 'check', 'comments'];
        let alertValues = {};
        let message = "";
        tags.forEach(tag => {
            alertValues[tag] = document.getElementById(tag).value;
        });
        Object.entries(alertValues).forEach(([key, value]) => {
            message += `${key.toUpperCase()}: ${value}\n`;
        });
        alert(message);
    }

    function nullCheck(value, lable) {
        isValid = true;
        lable.style.color = '';
        if (value.trim() === '') {
            lable.style.color = 'red';
            isValid = false;
        }
        else {
            lable.style.color = '';
        }
        return isValid;
    }


    function checkSplChar(value, lable) {
        let isValid = true;
        lable.style.color = '';
        let splCharactors = ["!", "@", "#", "$", "%", "^", "&", "&", "*", "(", ")", "{", "}", ".", ",", ":", ";", "|", "_", "-", "+", "="]
        let valueSplit = value.split("");
        splCharactors.forEach((spl) => {
            valueSplit.forEach((splitValue) => {
                if (spl.includes(splitValue)) {
                    lable.style.color = 'red';
                    isValid = false;
                }
            });
        });
        return isValid;
    }

    function numValidation(value, lable) {
        let isValid = true;
        lable.style.color = '';
        if (lable === 'phonenum1') {
            let intvalue = parseInt(value);
            lable.style.color = '';
            if (isNaN(intvalue)) {
                lable.style.color = 'red';
                isValid = false;
            }
        }
        return isValid;
    }


    function formValidation(event) {
        event.preventDefault();
        let isValid = true;
        let lableTags = ['firstname1', 'lastName1', 'email1', 'address1', 'address21', 'startDate1', 'statetag1', 'zipcode1', 'city1', 'check1', 'comments1', 'phonenum1', "standard1"];
        document.getElementById("firstname").onchange = function () {
            let value = document.getElementById("firstname").value;
            let lable = document.getElementById("firstname1");
            isValid =checkSplChar(value, lable);
        }
        document.getElementById("lastName").oninput = function () {
            let value = document.getElementById("lastName").value;
            let lable = document.getElementById("lastName1");
            isValid = checkSplChar(value, lable);
        }
        document.getElementById("address").onchange = function () {
            let value = document.getElementById("address").value;
            let lable = document.getElementById("address1");
            isValid = checkSplChar(value, lable);
        }
        document.getElementsByName("membershipType").onchange = function () {
            isValid = validateRadio();
        }
        document.getElementById("startDate").onchange = function () {
            let lable = document.getElementById("startDate1");
            let value = document.getElementById("startDate").value;
            isValid = validatenull(value, lable);
        }
        document.getElementById("statetag").onchange = function () {
            let lable = document.getElementById("statetag1");
            let value = document.getElementById("statetag").value;
            isValid = validatenull(value, lable);
        }
        document.getElementById("check").onchange = function () {
            isValid = validateCheck()
        }
        document.getElementById("address2").onchange = function () {
            let value = document.getElementById("address2").value;
            let lable = document.getElementById("address21");
            isValid = checkSplChar(value, lable);
        }
        document.getElementById("comments").onchange = function () {
            let value = document.getElementById("comments").value;
            let lable = document.getElementById("comments1");
            isValid = checkSplChar(value, lable);
        }

        document.getElementById("phonenum").onchange = function () {
            let value = document.getElementById("phonenum").value;
            let lable = document.getElementById("phonenum1");
            isValid = numValidation(value, lable);
        }
        if (isValid) {
            document.getElementById("button").disabled = false;
        } else {
            document.getElementById("button").disabled = true;
        }

    }

    function validateRadio(){
        let standard = document.getElementById("standard");
        let premium = document.getElementById("premium");
        let ultimate = document.getElementById("ultimate");
        let isValid = true;
        if(( standard.checked || premium.checked || ultimate.checked)){
            document.getElementById("standard1").style.color = "black";
        }
        else{
            document.getElementById("standard1").style.color = "red";
            isValid = false;
        }
        return isValid;
    }


</script>
<form id="myForm" onsubmit="submitForm(event)">
    <div class="login-form">
        <div class="login-box">
            <h1>New Member Registration </h1>
            <div class="details">
                <div class="formDetails">
                    <div class="inner-details">
                        <div class="fullname">
                            <div class="firstname">
                                <lable for="firstname" class="fullname" id="firstname1">First Name<sup>*</sup></lable>
                                <input onchange="formValidation(event)" type=" text"
                                       id="firstname" name="firstName">
                            </div>
                            <div class="lastname">
                                <lable for="lastName" class="fullname" id="lastName1">Last Name<sup>*</sup></lable>
                                <input onchange="formValidation(event)" type="text" id="lastName" name="lastName"></br>
                            </div>
                        </div>
                        <div class="fulladdress">
                            <div class="address">
                                <lable for="address" class="fulladdress" id="address1">Address<sup>*</sup></lable>
                                <input onchange="formValidation(event)" type="text" id="address" name="address">
                            </div>
                            <div class="address2">
                                <lable for="address2" class="fulladdress" id="address21">Address 2</lable>
                                <input onchange="formValidation(event)" type="text" id="address2" name="address2">
                            </div>
                        </div>
                        <div>
                            <lable for="startDate" class="mail" id="startDate1">Start Date<sup>*</sup></lable>
                            <input onchange="formValidation(event)" type="date" id="startDate" name="address">
                        </div>
                        <div class="city">
                            <div>
                                <lable for="city" class="city" id="city1">City<sup>*</sup></lable>
                                <input onchange="formValidation(event)" list="cityList" type="text" id="city"
                                       name="city">
                                <datalist id="cityList">
                                    <option value="Saint Peters">Saint Peters</option>
                                    <option value="Saint Louis">Saint Louis</option>
                                    <option value="Oaks">Oaks</option>
                                    <option value="Philadelphia">Philadelphia</option>
                                    <option value="New York">New York</option>
                                    <option value="HILLSBOROUGH">HILLSBOROUGH</option>
                                </datalist>
                            </div>
                        </div>

                    </div>
                    <div class="fullstatezip">
                        <div class="state">
                            <lable for="state" class="fullstatezip" id="statetag1">State/Province<sup>*</sup></lable>
                            <select onchange="formValidation(event)" onclick="selectCity()" id="statetag" name="state">
                                <option value=""></option>
                                <option value="AL">Alabama</option>
                                <option value="AK">Alaska</option>
                                <option value="AZ">Arizona</option>
                                <option value="AR">Arkansas</option>
                                <option value="CA">California</option>
                            </select>
                        </div>
                        <div class="zipCode">
                            <lable for="zipcode" class="fullstatezip" id="zipcode1">Zip/Postal code<sup>*</sup></lable>
                            <input onchange="formValidation(event)" type="number" id="zipcode" name="zipcode">
                        </div>
                    </div>
                    <div class="num">
                        <div>
                            <lable for="phonenum" class="num" id="phonenum1">Phone<sup>*</sup></lable>
                            <input onchange="formValidation(event)" type="number" id="phonenum" name="phonenumber"
                                   placeholder="(___) ___-____ ">
                        </div>
                    </div>
                    <div class="mail">
                        <div>
                            <lable for="email" class="mail" id="email1">Email Address<sup>*</sup></lable>
                            <input onchange="formValidation(event)" type="email" id="email" name="email">
                        </div>

                    </div>
                </div>
                <div class="radio">
                    <div>
                        <lable for="standard" class="radio" id="standard1">Membership Type<sup>*</sup></lable>
                    </div>
                    <input onchange="validateRadio()" type="radio" id="standard"
                           name="membershipType">Standard</input>
                    <input onchange="validateRadio()" type="radio" id="premium"
                           name="membershipType">Premium</input>
                    <input onchange="validateRadio()" type="radio" id="ultimate"
                           name="membershipType">Ultimate</input>
                </div>
                <div class="table" id="myTable">

                </div>
                <div>
                    <input type="checkbox" onchange="formValidation(event)" id="check" name="checkBox">
                    <lable for="check" class="address" id="check1">I agree to the Terms and Conditions <sup>*</sup>
                    </lable>

                </div>
                <div>
                    <lable for="comments" class="comments" id="comments1">Please provide your Comments <sup>*</sup>
                    </lable>
                    <textarea onchange="formValidation(event)" id="comments" name="comments"></textarea>

                </div>
                <div class="submit">
                    <button type="submit" id="button" class="submit" disabled>Submit</button>
                </div>
            </div>
        </div>
    </div>
</form>
</body>
</html>